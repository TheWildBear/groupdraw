<head>
	<title>Groupdrawhtmlsite</title>
	<meta charset="utf-8">
	<script>
		var pupils = [];
		var groupsize = 4;
		var counter = 0;
		function updategroupsize(size)
		{
			groupsize = size;
			var showgroupsize = document.getElementById('show_groupsize');
			showgroupsize.innerHTML = size;
			return groupsize;
		}

		function start()
		{
			var textArea = document.getElementById('input');
			pupils = textArea.value.split('\n');
		}

		function shuffle(pupilarrayinput) {
			var ctr = pupilarrayinput.length, temp, index;
			// While there are elements in the array
			while (ctr > 0) {
				// Pick a random index
				index = Math.floor(Math.random() * ctr);
				// Decrease ctr by 1
				ctr--;
				// And swap the last element with it
				temp = pupilarrayinput[ctr];
				pupilarrayinput[ctr] = pupilarrayinput[index];
				pupilarrayinput[index] = temp;
			}
			return pupilarrayinput;
		}

		function shuffleEmaround(){
			pupils = shuffle(pupils);
			var output = "=============<br>Gruppe 0<br>";
			var counter = 0;
			var group = 1;
			for(i = 0; i<pupils.length; i++){
				if(counter < groupsize)
				{
					output = output + pupils[i] + "<br>";
					counter++;
				}else{
					output = output + "<br>=============<br>Gruppe " + group  + "<br>" + pupils[i] + "<br>";
					counter=0;
					group++;
				}
			}
		
			var div = document.getElementById('output');
			div.innerHTML = output;	
			return;
		}
		function startAll(){
			start();
			setTimeout(function () {
				shuffleEmaround();
				window.scrollBy(0,10000);
			}, 500);
		}
	</script>
</head>
<body>
	<h1>
		Ein Gruppenzufallsgenerator von Thewildbear
	</h1>
	<h2>
		-Personen einfügen<br>
		-mischen klicken<br>
		-fertig<br>
	</h2>
	<div id="groupsizediv">
		Gruppengröße:
		<div class="slidercontainer">
			<input type="range" min="1" max="10" value="4" class="slider" id="selected_groupsize" onchange="updategroupsize(this.value)">
		</div>
		<div id="show_groupsize">
			4
		</div>
	</div>
	<br>
	<textarea id="input" cols="50" rows="30">
Füg hier die Personen ein.
	</textarea>
	<br>
	<button onclick="startAll()">
		Mischen	
	</button>
	<p id="output">
	</p>
</body>


